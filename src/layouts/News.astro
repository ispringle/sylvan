---
import Rolladex from "@components/Rolladex.astro"
import { allPages } from "@lib/pages";
import {filterIndices, sortNewestToOldest } from "@utils/filterContent";

const { page, ...props } = Astro.props;
const { frontmatter, file } = page;

const roll = (await allPages).filter(filterIndices).sort(sortNewestToOldest);
---
<article class="main index">
  <slot />
</article>
<Rolladex heading={frontmatter?.roll_heading ? frontmatter.roll_heading : "Pages"}
          roll={roll} />
