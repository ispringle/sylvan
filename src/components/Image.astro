---
import { Image } from 'astro:assets';
const { src, width, height, alt } = Astro.props;
const notSupported =
  typeof src === 'string' && (src.endsWith('.svg') || src.endsWith('.gif'));
const isSupported = !notSupported;
const hasAspectRatio = width !== undefined && height !== undefined;
// aspectRatio={`${width}:${height}`}
---
<style>
img {
  aspect-ratio: 1/1;
  width: 75%;
}
</style>
{
  typeof src !== 'string' ? (
    <Image
      widths={[320, 480, /* full-width */ 700, /* @2x */ 1400]}
      alt={alt ?? ""}
      fit="contain"
      {...Astro.props}
    />
  ) : (
      <img {...Astro.props} />
  )
}
