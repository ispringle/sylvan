---
import Base from "@layouts/Base.astro";
import { filterContent, slugify } from "@utils";

export async function getStaticPaths() {
  const devMode = import.meta.env.DEV;
  const posts = filterContent(await Astro.glob("/content/blog/*.md"));

  return posts.map((post) => {
    return {
      params: { slug: slugify(post.frontmatter.title) },
      props: { post: post },
    };
  });
}

const { post } = Astro.props;
const { Content } = post;
---

<Base pageTitle={post.frontmatter.title}>
  <Content />
</Base>
